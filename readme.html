<!DOCTYPE html>
<html lang="ja">
<head>
      <meta charset="UTF-8">
      <meta http-eqliv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="stylesheet" href="tmp/css/style.css">
      <style>
            .overflow-wrap-break-word {
            overflow-wrap: break-word;
      }
      </style>
      <title>yomiage_VOICEVOX_verT(v20221225)</title>
</head>
<body>
      <div class="title">
            <h1>yomiage_VOICEVOX_verT(20221225版)__Readme</h1>
      </div>
      <h2>概要</h2>
      <p>DiscordのチャットをVOICEVOXやA.I.VOICEで読み上げるソフトです。<br>コマンド一覧は<a href="command_list.html">command_list.html</a>を参照してください。</p>

      <h2>機能紹介</h2>
      <ul>
            <li>チャットの読み上げ</li>
            <li>単語の読み仮名登録</li>
            <li>ユーザーごとに仕様ボイスを変えられる</li>
            <li>ボイスチャット入室時の通知（オンオフ切り替え可能）</li>
            <li>時報機能（オンオフ切り替え可能）</li>
      </ul>

      <h2>ファイル構造</h2>
      <dl>
            <dt>readme.html</dt>
            <dd>これです。使い方などをかいているのでお読みください。</dd>
            <dt>readme.md</dt>
            <dd>pythonのソースコードから起動したい場合はこちらをお読みください。</dd>
            <dt>前バージョンからの移行方法.txt</dt>
            <dd>以前のバージョンを使っていた場合はこれを参考にしてデータ（単語帳など）を引き継いでください</dd>
            <dt>discordbot.exe</dt>
            <dd>実行ファイル</dd>
            <dt>discordbot.py</dt>
            <dd>コマンドプロンプトから実行する場合はこちらを使ってください</dd>
            <dt>setting.ini</dt>
            <dd>使用するソフトウェアとポート番号の組、デフォルト話者とスタイルの設定、設定ファイルのロケーションが記載されたファイルです。<br>
                <ol>
                  <li>
                        [Token Setting]セクション<br>
                        利用するDiscord Botのトークンを記載してください。
                  </li>
                  <li>
                        [Using Setting]セクション<br>
                        使用するソフトウェアとポート番号の組が記載されています。<br>
                        使用したいソフトがある場合は、先頭の # を削除してコメントアウトを解除してください。<br>
                        逆に使用したくないソフトがある場合は、先頭に # を付加してコメントアウトしてください。<br>
                        記載のないソフトウェアでも、WebAPIのポート番号が分かれば、そのソフトウェアとポート番号の組を入力すれば動きます。
                  </li>
                  <li>
                        [A.I.VOICE Setting]セクション<br>
                        A.I.VOICEを利用するかどうかを設定します。
                        <ul>
                              <li>UseAIVoice : A.I.VOICEを利用するかどうかをTrueかFalseで記載してください。</li>
                              <li>AIVoiceDir : aivoice.exeのあるディレクトリをフルパスで指定してください。</li>
                        </ul>
                  </li>
                  <li>
                        [Default Value Setting]セクション<br>
                        デフォルトで利用する音声を設定します。
                        <ul>
                              <li>DefaultGenerator : デフォルト音声で使用するソフトウェア名です。</li>
                              <li>DefaultSpeaker : デフォルト音声で使用する話者名です。</li>
                              <li>DefaultStyle : デフォルト音声で使用するスタイル名です。</li>
                        </ul>
                  </li>
                  <li>
                        [Data Location]セクション<br>
                        データファイルのロケーションを設定します。
                        <ul>
                              <li>VoiceList : ユーザーIDと利用する音声の組が記載されたファイルのロケーションです。</li>
                              <li>FlagList : 各種フラグが記載されたファイルのロケーションです。</li>
                              <li>WordList : 特定の文字列を特定の音声に置換する組み合わせが記載されたファイルのロケーションです。</li>
                              <li>StyleSetting : スタイル別の速度・音高・抑揚・音量の設定が記載されたファイルのロケーションです。</li>
                        </ul>
                  </li>
                </ol></dd>
            <dt>command_list.html</dt>
            <dd>実装されているコマンドリスト</dd>
            <dt>Synthax_setting.csv</dt>
            <dd>コマンドおよびコメントの先頭の文字を設定するファイル</dd>
            <dt>for_developer</dt>
            <dd>ソースファイル</dd>
            <dt>data</dt>
            <dd>単語帳などが保存されるファイル。開く必要はあまりないです。</dd>
            <dt>get_speakers_from_VOICEVOX.bat</dt>
            <dd>VOICEVOXから話者の情報を取得するbatファイル。通常は編集する必要はありません。</dd>
            <dt>output_json_from_VOICEVOX.bat</dt>
            <dd>VOICEVOXでjsonファイルを作成するbatファイル。通常は編集する必要はありません。</dd>
            <dt>output_voice_from_VOICEVOX.bat</dt>
            <dd>VOICEVOXで音声を作成するbatファイル。通常は編集する必要はありません。</dd>
            <dt>tmp</dt>
            <dd>一時的に出力されるファイル（VOICEVOXで出力した音声ファイル等）が保存されます。開く必要は全くないです。</dd>
      </dl>

      <h2>注意</h2>
      <ol>
            <li>このソフトはWindows10上で使われることを想定しています。LinuxやMacで使う場合はbatファイルまわりと音声のopus変換まわりをいじれば多分なんとかなります。
            </li>
            <li>Pythonほぼ触ったことない + Discord bot作るの初めてで不慣れなところがあり一部コードが汚いかもしれないです。ごめんなさい。
            </li>
            <li>以前のバージョンのデータを引き継ぎたい場合は<b>データの引き継ぎ方.txt</b>をご覧ください</li>
            <li>v20220611より前のバージョンを使っていた場合、discord botの設定を少し変える必要があります</li>
      </ol>

      <h2>導入が必要なソフト</h2>
      <p>このソフトを利用するために以下のものをインストールする必要があります</p>
      <ol>
            <li>ffmpeg。<a href="https://jp.videoproc.com/edit-convert/how-to-download-and-install-ffmpeg.htm">このサイト</a>の<b>1. WindowsでFFmpegをダウンロード＆インストールする方法（Windows10対応)</b>を参考にしてください。</li>
            <li>VOICEVOX。<a href="https://voicevox.hiroshiba.jp/"></a>公式HP</li>から最新版をダウンロードしてください。
      </ol>

      <h2>起動方法</h2>
      <p>*の項目は初回のみ必要です。</p>
      <ol>
            <li>*上の導入が必要なソフトをすべてインストールします。</li>
            <li>*このフォルダ(yomiage_VOICEVOX)をわかりやすい場所に置きます。</li>
            <li>*DiscordのBotを作成し、招待します。（すでにチャットルームにBotを招待している場合は省略）<a href="https://note.com/exteoi/n/nf1c37cb26c41">このサイト</a>の<b>1. Discord上のBotの作成</b>にある記述を参考にしてください。</li>
            <ol>
                  <li><a href="https://discord.com/developers/applications">Discord Botの管理サイト</a>を開きます</li>
                  <li>右上にあるNew Applicationを押し、適当な名前を入れてCreateを押します。</li>
                  <li>管理画面が開かれるので、左のメニューのBotを押し、Reset Tokenを押します。その後Yes, do it!を選択します（開かれない場合はDeveloper Portalから作成したアプリケーションを選択する）</li>
                  <li>するとBlild-A-Botのところにトークンの文字列が出ます。下にあるCopyを押すとBotのTOKENがコピーできます。<b>のちに必要となるので保存しておく。</b></li>
                  <li>そのしたのPUBLIC BOT, REQliRES OAUTH2 CODE GRANTをオフ、Presence Intent, Server Members Intent, MESSAGE CONTENT INTENTという項目をオンにする。(灰色がオフ、青色がオン)</li>
                  <li>左のメニューのOAuth2→URL Generatorを開きます。 SCOPESでbotにチェックを入れます。</li>
                  <li>BOT PERMISSIONSという項目が出てくると思うのでRead Messages/ViewChannels, Send Messages, Connect, Speakにチェックを入れてください。</li>
                  <li>一番下にあるGENERATED URLにあるリンクを開くとサーバー招待画面が出てくるので、追加したいサーバーを選択して認証します 。</li>
            </ol>
            <li>*TOKEN.txtをテキストエディタで開いて、3-4)でコピーしていたTOKENを保存してください。</li>
            <li>VOICEVOXを起動します。</li>
            <li>discordbot.exeをダブルクリックします。コマンドプロンプト上に<b>起動しました</b>と出てきたら成功です。</li>
            <li>おつかれさまでした</li>
      </ol>

      <h2>使用方法</h2>
      <ol>
            <li>ボイスチャンネルに入室します</li>
            <li>テキストチャンネル上で<b>!join</b>を入力します</li>
      </ol>

      <h2>終了方法</h2>
      <ol>
            <li><b>!leave</b>でボイスチャンネルからBOTを退場させておきます</li>
            <li>コマンドプロンプト上で<b>Ctrl + C</b>をおこなって終了させます</li>
      </ol>

      <h2>エラーが出たとき</h2>
      <dl>
            <dt>アクセスが拒否されました</dt>
            <dd>ウイルスセキュリティソフトに引っかかっている可能性がある。許可する。</dd>
            <dt>Discord BotのPrivileged Intents が有効になっていません云々のメッセージ</dt>
            <dd>BOTの設定に問題があるので確認する [<b>起動方法3-5)</b>を参照]</dd>
            <dt>ffmpegがインストールされていない云々のメッセージ</dt>
            <dd>ffmpegをインストールする [<b>導入が必要なソフト1)</b>を参照]</dd>
      </dl>

      <h2>その他</h2>
      <ul>
            <li>ほかのBOTとコマンドが被ってしまっている場合は<b>Synthax_setting.csv</b>の<b>!</b>, <b>></b>を適当に変更してください。</li>
            <li>また、<b>Synthax_setting.csv</b>にother_bots_Synthax,$などと追記することで、他のBOTのコマンドを読み飛ばすように設定できます。</li>
            <li>このバージョンは改変版です。本家の修正等にはできる限り追従しますが、完全でないことをご了承ください。</li>
            <li>GPUを積んでいる場合はVOICEVOXをGPUモードで起動することをおすすめします。</li>
      </ul>

      <h2>利用規約的なやつ</h2>
      <ol>
            <li>本ソフトはオープンソースです。お金を払いたい場合は<a href="https://hiho.fanbox.cc/">VOICEVOX様</a>にどうぞ</li>
            <li>ソースコードの改変はご自由にどうぞ。ただし、改変したものを配布する場合は改変したことが分かるようにファイル名を変更して、更新履歴に変更点を追記してください。</li>
            <li>各ソフトウェア及び各キャラの利用規約をよく読んでから使用してください。</li>
            <ol>
                  <li><a href="https://voicevox.hiroshiba.jp/">VOICEVOX HP</a></li>
                  <li><a href="https://virvoxproject.wixsite.com/official/voicevox%E3%81%AE%E5%88%A9%E7%94%A8%E8%A6%8F%E7%B4%84">VOICEVOX利用規約</a></li>
                  <li><a href="https://zunko.jp/glideline.html">東北ずん子利用の手引き</a></li>
                  <li><a href="https://tsukushinyoki10.wixsite.com/ktsumugiofficial/%E5%88%A9%E7%94%A8%E8%A6%8F%E7%B4%84">春日部つむぎ利用規約</a></li>
                  <li><a href="http://canon-voice.com/kiyaku.html">波音リツ利用規約</a></li>
                  <li><a href="https://amehau.com/?page_id=225">雨晴はう利用規約</a></li>
                  <li><a href="https://kotoran8zunzun.wixsite.com/my-site/%E5%88%A9%E7%94%A8%E8%A6%8F%E7%B4%84">冥鳴ひまり利用規約</a></li>
                  <li><a href="https://vtubermochio.wixsite.com/mochizora/%E5%88%A9%E7%94%A8%E8%A6%8F%E7%B4%84">もちぞら模型店（もち子・あん子）二次創作について</a></li>
                  <li><a href="https://frontier.creatia.cc/fanclubs/413/posts/4507">剣崎雌雄利用規約</a></li>
                  <li><a href="https://coeiroink.com/">COEIROINK HP</a></li>
                  <li><a href="https://coeiroink.com/terms">COEIROINK利用規約</a></li>
                  <li><a href="https://tyc.rei-yumesaki.net/about/terms/">つくよみちゃん利用規約</a></li>
                  <li><a href="https://cf-mk.jimdofree.com/%E5%88%A9%E7%94%A8%E8%A6%8F%E7%B4%84/">MANA・KANA利用規約</a></li>
                  <li><a href="https://coeiroink.com/character/audio-character/ofutonp">おふとんP音声ページ</a></li>
                  <li><a href="https://production.lusty-kiss.com/tos">ディアちゃん・アルマちゃん利用規約</a></li>
                  <li>BOT利用者がMYCOEIROINKを利用する場合、その利用規約に従うこと</li>
                  <li><a href="https://lmroidsoftware.wixsite.com/nhoshio">LMROID HP</a></li>
                  <li><a href="https://lmroidsoftware.wixsite.com/nhoshio/terms">LMROID利用規約</a></li>
                  <li><a href="https://lmroidsoftware.wixsite.com/nhoshio/character">LMROID キャラクターページ</a></li>
                  <li><a href="https://www.sharevox.app/">SHAREVOX HP</a></li>
                  <li><a href="https://www.sharevox.app/terms">SHAREVOX利用規約</a></li>
                  <li><a href="https://www.sharevox.app/characters">SHAREVOX キャラクターページ</a></li>
                  <li><a href="https://booth.pm/ja/items/4374126">ITVOICE 配布ページ</a>(利用規約に関する記述があります)</li>
                  <li><a href="https://aivoice.jp/manual/editor/api.html#termsandconditions">A.I.VOICE Editor API利用規約</a></li>
            </ol>
            <li>本ソフトウェアにより生じた損害・不利益について、製作者は一切の責任を負いません。</li>
            <li>このバージョンは改変版です。改善して欲しい点などあれば<a href="https://twitter.com/Taktstock_mov">改変者のTwitter</a>で言ってください。</li>
      </ol>
</body>
</html>